### **Boxing & Unboxing —É .NET (Advanced)**

`Boxing` —ñ `Unboxing` ‚Äì —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–∂ **–∑–Ω–∞—á–∏–º–∏–º–∏ —Ç–∏–ø–∞–º–∏ (`struct`)** —Ç–∞ **–ø–æ—Å–∏–ª–∞–ª—å–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ (`object`, `interface`)** —É .NET. –í–æ–Ω–∏ —î –≤–∞–∂–ª–∏–≤–∏–º–∏ –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –¥–æ–¥–∞—Ç–∫—ñ–≤.

---

## **1. –©–æ —Ç–∞–∫–µ Boxing?**

`Boxing` ‚Äì —Ü–µ **–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–Ω–∞—á–∏–º–æ–≥–æ —Ç–∏–ø—É (`value type`) —É –ø–æ—Å–∏–ª–∞–ª—å–Ω–∏–π (`reference type`)**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∑–Ω–∞—á–µ–Ω–Ω—è `struct` –∑–∞–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –≤ `object`, —â–æ **–ø–µ—Ä–µ–º—ñ—â—É—î –π–æ–≥–æ –∑ —Å—Ç–µ–∫—É (`stack`) —É –∫—É–ø—É (`heap`)**.

### **–ü—Ä–∏–∫–ª–∞–¥ Boxing**

```csharp
int num = 42;       // num –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–µ–∫—É
object obj = num;   // Boxing: num —É–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è –≤ –æ–±'—î–∫—Ç —É –∫—É–ø—ñ
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º?**

1. –í–∏–¥—ñ–ª—è—î—Ç—å—Å—è –ø–∞–º'—è—Ç—å —É –∫—É–ø—ñ (`heap`) –¥–ª—è –Ω–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞.
2. –ó–Ω–∞—á–µ–Ω–Ω—è `num` –∫–æ–ø—ñ—é—î—Ç—å—Å—è –∑ **—Å—Ç–µ–∫—É** —É **–Ω–æ–≤–∏–π –æ–±‚Äô—î–∫—Ç —É –∫—É–ø—ñ**.
3. –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ü–µ–π –æ–±'—î–∫—Ç –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –∑–º—ñ–Ω–Ω—ñ–π `obj`.

‚è≥ **–¶–µ–π –ø—Ä–æ—Ü–µ—Å —î –¥–æ—Ä–æ–≥–∏–º**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∫–ª—é—á–∞—î:

- –í–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ —É –∫—É–ø—ñ (heap allocation).
- –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è.
- –ú–æ–∂–ª–∏–≤—É –¥–æ–¥–∞—Ç–∫–æ–≤—É —Ä–æ–±–æ—Ç—É **Garbage Collector (GC)**.

---

## **2. –©–æ —Ç–∞–∫–µ Unboxing?**

`Unboxing` ‚Äì —Ü–µ **–∑–≤–æ—Ä–æ—Ç–Ω–∏–π –ø—Ä–æ—Ü–µ—Å**: –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è `object` –Ω–∞–∑–∞–¥ —É `value type`, —Ç–æ–±—Ç–æ –≤–∏–ª—É—á–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –∫—É–ø–∏ –Ω–∞–∑–∞–¥ —É —Å—Ç–µ–∫.

### **–ü—Ä–∏–∫–ª–∞–¥ Unboxing**

```csharp
object obj = 42;  // Boxing
int num = (int)obj; // Unboxing
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º?**

4. –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —á–∏ –æ–±'—î–∫—Ç —Å–ø—Ä–∞–≤–¥—ñ –º—ñ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –æ—á—ñ–∫—É–≤–∞–Ω–æ–≥–æ —Ç–∏–ø—É (`int` —É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É).
5. –ó–Ω–∞—á–µ–Ω–Ω—è **–∫–æ–ø—ñ—é—î—Ç—å—Å—è** –∑ –∫—É–ø–∏ –≤ **—Å—Ç–µ–∫**.
6. –Ø–∫—â–æ —Ç–∏–ø –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è, –±—É–¥–µ `InvalidCastException`:

```csharp
object obj = 42;
double d = (double)obj; // InvalidCastException, –±–æ obj –º—ñ—Å—Ç–∏—Ç—å int, –∞ –Ω–µ double!
```

‚è≥ **Unboxing —Ç–µ–∂ –¥–æ—Ä–æ–≥–∏–π**, —Ç–æ–º—É —â–æ –≤–∫–ª—é—á–∞—î:

- –ü–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∏–ø—É (`type check`).
- –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–∑–∞–¥ —É —Å—Ç–µ–∫.

---

## **3. –ß–æ–º—É Boxing/Unboxing —î –ø—Ä–æ–±–ª–µ–º–æ—é?**

Boxing —Ç–∞ Unboxing –º–æ–∂—É—Ç—å —Å—É—Ç—Ç—î–≤–æ –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ **–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** —á–µ—Ä–µ–∑:

7. **–î–æ–¥–∞—Ç–∫–æ–≤—ñ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —É –∫—É–ø—ñ (heap allocations)** ‚Äì –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω—è—Ç–∏ —á–∞—Å—Ç—ñ—à—ñ –∑–∞–ø—É—Å–∫–∏ Garbage Collector.
8. **–ù–∏–∑—å–∫—É —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è** ‚Äì –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤ –∑–∞–π–º–∞—é—Ç—å –±—ñ–ª—å—à–µ —á–∞—Å—É, –Ω—ñ–∂ —Ä–æ–±–æ—Ç–∞ –∑ `struct` –Ω–∞–ø—Ä—è–º—É.

### **–ü—Ä–∏–∫–ª–∞–¥ –∑ –Ω–∏–∑—å–∫–æ—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é**

```csharp
void Process()
{
    object[] values = new object[10000]; // –ú–∞—Å–∏–≤ –ø–æ—Å–∏–ª–∞–ª—å–Ω–∏—Ö —Ç–∏–ø—ñ–≤
    for (int i = 0; i < 10000; i++)
    {
        values[i] = i; // 10000 –æ–ø–µ—Ä–∞—Ü—ñ–π boxing!
    }
}
```

üî¥ **–ö–æ–∂–µ–Ω `i` —É–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è –≤ `object` (boxing), —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Ç–∏—Å—è—á –≤–∏–¥—ñ–ª–µ–Ω—å –ø–∞–º‚Äô—è—Ç—ñ!**

---

## **4. –Ø–∫ —É–Ω–∏–∫–∞—Ç–∏ Boxing/Unboxing?**

### ‚úÖ **1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `generic` –∑–∞–º—ñ—Å—Ç—å `object`**

–ú–µ—Ç–æ–¥–∏, —â–æ –ø—Ä–∏–π–º–∞—é—Ç—å `object`, –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ boxing/unboxing. Generics (`T`) –¥–æ–∑–≤–æ–ª—è—é—Ç—å —É–Ω–∏–∫–Ω—É—Ç–∏ —Ü—å–æ–≥–æ.

**–ü–æ–≥–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç (Boxing)**:

```csharp
void Print(object obj)
{
    Console.WriteLine(obj);
}

int number = 42;
Print(number); // Boxing
```

**–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç (Generics, –±–µ–∑ Boxing)**:

```csharp
void Print<T>(T value)
{
    Console.WriteLine(value);
}

int number = 42;
Print(number); // –ë–µ–∑ Boxing!
```

---

### ‚úÖ **2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `struct` –∑ Generics**

–ü—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑—ñ —Å–ø–∏—Å–∫–∞–º–∏ —Ç–∞ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `List<T>` –∑–∞–º—ñ—Å—Ç—å `ArrayList` –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ boxing.

**–ü–æ–≥–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç (Boxing)**:

```csharp
ArrayList list = new ArrayList();
list.Add(10); // Boxing
int value = (int)list[0]; // Unboxing
```

**–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç (`List<T>`, –±–µ–∑ Boxing)**:

```csharp
List<int> list = new List<int>();
list.Add(10); // –ë–µ–∑ Boxing
int value = list[0]; // –ë–µ–∑ Unboxing
```

---

### ‚úÖ **3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `readonly struct`**

–ó–≤–∏—á–∞–π–Ω—ñ `struct` –º–æ–∂—É—Ç—å –≤–∏–ø–∞–¥–∫–æ–≤–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ boxing, —è–∫—â–æ –≤–æ–Ω–∏ –∑–º—ñ–Ω—é–≤–∞–Ω—ñ. `readonly struct` –∑–∞–±–æ—Ä–æ–Ω—è—î –∑–º—ñ–Ω—é–≤–∞–Ω—ñ—Å—Ç—å —ñ –∑–º–µ–Ω—à—É—î —Ä–∏–∑–∏–∫ boxing.

```csharp
readonly struct Point
{
    public int X { get; }
    public int Y { get; }

    public Point(int x, int y) => (X, Y) = (x, y);
}
```

---

## **5. –î–µ Boxing/Unboxing –Ω–µ–º–∏–Ω—É—á–∏–π?**

–Ñ –≤–∏–ø–∞–¥–∫–∏, –∫–æ–ª–∏ boxing **–≤–∞–∂–∫–æ —É–Ω–∏–∫–Ω—É—Ç–∏**:

9. **–†–æ–±–æ—Ç–∞ –∑ –Ω–µ generics API (`ArrayList`, `Hashtable`)**.
10. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `object` –∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ (`IComparable`, `ICloneable`)**.
11. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è `struct` —É –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö (`dynamic`, `object`)**.

–ü—Ä–∏–∫–ª–∞–¥:

```csharp
int x = 5;
IComparable comp = x; // Boxing (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –ø–æ—Å–∏–ª–∞–ª—å–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏)
```

---

## **–í–∏—Å–Ω–æ–≤–∫–∏**

### ‚ùå Boxing/Unboxing —î —à–∫—ñ–¥–ª–∏–≤–∏–º —á–µ—Ä–µ–∑:

- –î–æ–¥–∞—Ç–∫–æ–≤—ñ **–≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ –≤ –∫—É–ø—ñ**.
- **–ó–±—ñ–ª—å—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ Garbage Collector**.
- **–ó–Ω–∏–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∏–ø—ñ–≤ —Ç–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å.

### ‚úÖ –Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏:

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **generics (`T`)**.
- –ó–∞–º—ñ—Å—Ç—å `ArrayList`, `Hashtable` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`List<T>`, `Dictionary<TKey, TValue>`**.
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`readonly struct`**, —è–∫—â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è.
- –£–Ω–∏–∫–∞—Ç–∏ –ø–µ—Ä–µ–¥–∞—á—ñ –∑–Ω–∞—á–∏–º–∏—Ö —Ç–∏–ø—ñ–≤ —É **`object`** –∞–±–æ **—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏**.

üöÄ **–ó–∞–≥–∞–ª—å–Ω–µ –ø—Ä–∞–≤–∏–ª–æ:** —è–∫—â–æ –∫–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é—î –∑ `struct` —ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **—á–∞—Å—Ç–∞ —É–ø–∞–∫–æ–≤–∫–∞ (`Boxing`)**, —Å–ª—ñ–¥ **–ø–µ—Ä–µ—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ** –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Generics (`T`) –∞–±–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–ø—Ä—è–º—É –∑ –∑–Ω–∞—á–∏–º–∏–º–∏ —Ç–∏–ø–∞–º–∏.

–Ø–∫—â–æ —Ö–æ—á–µ—à –≥–ª–∏–±—à–µ —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ IL-–∫–æ–¥ boxing/unboxing), –∫–∞–∂–∏! üî•

---
>- –í —è–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö –±—É–¥–µ –∞–±–æ –Ω–µ –±—É–¥–µ boxing –¥–ª—è nullable —Ç–∏–ø—É
---
### **Boxing —Ç–∞ `Nullable<T>`: –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?**

–£ –≤–∏–ø–∞–¥–∫—É –∑ `Nullable<T>` (`int?`, `double?`, —Ç–æ—â–æ) **boxing –º–æ–∂–µ –∞–±–æ –Ω–µ –º–æ–∂–µ –≤—ñ–¥–±—É—Ç–∏—Å—è** –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. –î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –¥–µ—Ç–∞–ª—å–Ω–æ.

---

## **1. –ö–æ–ª–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è `boxing` –¥–ª—è `Nullable<T>`?**

Boxing –¥–ª—è `Nullable<T>` –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ `HasValue == true`**.  
–ü—Ä–∏ —Ü—å–æ–º—É `Nullable<T>` **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è (`unwrap`) –ø–µ—Ä–µ–¥ boxing'–æ–º**, —ñ –≤ –∫—É–ø—ñ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–µ —Å–∞–º `Nullable<T>`, –∞ –π–æ–≥–æ –±–∞–∑–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

### **–ü—Ä–∏–∫–ª–∞–¥ Boxing**

```csharp
int? nullableValue = 42;
object boxed = nullableValue; // Boxing
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º?**

1. `Nullable<int>` –º—ñ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `42` (`HasValue == true`).
2. –ü–µ—Ä–µ–¥ boxing-–æ–º `Nullable<T>` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ **—Ä–æ–∑–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è –≤ `int`**.
3. `int` —É–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è (boxing) –≤ `object`.

üìå **–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –≤ –∫—É–ø—ñ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è `int`, –∞ –Ω–µ `Nullable<int>`!**

---

## **2. –ö–æ–ª–∏ boxing –ù–ï –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è?**

### ‚ùå **1. –Ø–∫—â–æ `Nullable<T>` –º—ñ—Å—Ç–∏—Ç—å `null`**

–Ø–∫—â–æ `Nullable<T>` –Ω–µ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è (`HasValue == false`), boxing **–Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è**.  
–ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ `object` –æ—Ç—Ä–∏–º—É—î `null`!

```csharp
int? nullableValue = null;
object boxed = nullableValue; // –ù–ï –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è boxing, boxed = null
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º?**

- –û—Å–∫—ñ–ª—å–∫–∏ `nullableValue` –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è (`HasValue == false`), —Ä–µ–∑—É–ª—å—Ç–∞—Ç boxing‚Äô—É –±—É–¥–µ –ø—Ä–æ—Å—Ç–æ `null`, –∞ –Ω–µ boxed-–æ–±‚Äô—î–∫—Ç —É –∫—É–ø—ñ.

---

### ‚ùå **2. –Ø–∫—â–æ `Nullable<T>` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ generics –±–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è `class`**

–Ø–∫—â–æ `Nullable<T>` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ generics, —Ç–æ boxing **–Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è**, –æ—Å–∫—ñ–ª—å–∫–∏ `Nullable<T>` ‚Äì —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`struct`).

```csharp
void Print<T>(T value)
{
    Console.WriteLine(value);
}

int? nullableInt = 42;
Print(nullableInt); // –ù–µ–º–∞—î boxing, –±–æ T = int? (struct)
```

‚úÖ **–¢—É—Ç generics –∑–±–µ—Ä—ñ–≥–∞—î –∑–Ω–∞—á–∏–º–∏–π —Ç–∏–ø –Ω–∞–ø—Ä—è–º—É, –±–µ–∑ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤ `object`!**

–ê–ª–µ —è–∫—â–æ generics –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è `where T : class`, –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è boxing (–¥–∏–≤. –Ω–∞—Å—Ç—É–ø–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥).

---

## **3. –ö–æ–ª–∏ boxing –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏–º?**

### ‚ùó **–Ø–∫—â–æ `Nullable<T>` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ –º–µ—Ç–æ–¥, —â–æ –ø—Ä–∏–π–º–∞—î `object` –∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

```csharp
void PrintObject(object obj)
{
    Console.WriteLine(obj);
}

int? nullableInt = 42;
PrintObject(nullableInt); // Boxing –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
```

üìå **–û—Å–∫—ñ–ª—å–∫–∏ –º–µ—Ç–æ–¥ –æ—á—ñ–∫—É—î `object`, `Nullable<int>` —Ä–æ–∑–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è –≤ `int`, —ñ —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è boxing.**

---

### ‚ùó **–Ø–∫—â–æ `Nullable<T>` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

```csharp
interface IExample { }
struct MyStruct : IExample { }

IExample example = new MyStruct(); // Boxing
```

üìå **Boxing –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –±–æ `struct` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.**

–ê–ª–µ –∑ `Nullable<T>` —Ü–µ –ø—Ä–∞—Ü—é—î —Ç–∞–∫:

```csharp
IExample example = (IExample)(new MyStruct()?); // Boxing!
```

üìå **–¢—É—Ç boxing –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –±–æ `Nullable<T>` —Ä–æ–∑–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è —É `T`, –∞ `T` –≤–∂–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.**

---

## **–í–∏—Å–Ω–æ–≤–∫–∏:**

4. **Boxing –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, —è–∫—â–æ `Nullable<T>` –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è (`HasValue == true`) —Ç–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç—å—Å—è –¥–æ `object` —á–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.**
    
    ```csharp
    int? x = 42;
    object obj = x; // Boxing (–≤ –∫—É–ø—ñ –±—É–¥–µ `int`, –∞ –Ω–µ `Nullable<int>`)
    ```
    
5. **Boxing –ù–ï –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, —è–∫—â–æ `Nullable<T>` –º—ñ—Å—Ç–∏—Ç—å `null` ‚Äì –≤ `object` –±—É–¥–µ –ø—Ä–æ—Å—Ç–æ `null`.**
    
    ```csharp
    int? x = null;
    object obj = x; // obj == null (–Ω–µ–º–∞—î boxing)
    ```
    
6. **–Ø–∫—â–æ `Nullable<T>` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —É Generics (`T` –±–µ–∑ `class`-–æ–±–º–µ–∂–µ–Ω–Ω—è), boxing –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.**
    
    ```csharp
    void Print<T>(T value) { Console.WriteLine(value); }
    int? x = 42;
    Print(x); // –ù–µ–º–∞—î boxing
    ```
    
7. **–Ø–∫—â–æ `Nullable<T>` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —É –º–µ—Ç–æ–¥, —â–æ –ø—Ä–∏–π–º–∞—î `object`, boxing –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.**
    
    ```csharp
    void Print(object obj) { Console.WriteLine(obj); }
    int? x = 42;
    Print(x); // Boxing
    ```
    
8. **–Ø–∫—â–æ `Nullable<T>` –ø—Ä–∏–≤–æ–¥–∏—Ç—å—Å—è –¥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (`IComparable` —Ç–æ—â–æ), boxing –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.**
    
    ```csharp
    IComparable x = (IComparable)(42 as int?); // Boxing
    ```
    

### **–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –ø—Ä–∞–≤–∏–ª–æ:**

üîπ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `Nullable<T>` **–±–µ–∑ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —É `object` –∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏**, —â–æ–± —É–Ω–∏–∫–∞—Ç–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ `boxing`.  
üîπ **Generics (`T`) –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —É–Ω–∏–∫–∞—Ç–∏ `boxing/unboxing`.**  
üîπ –Ø–∫—â–æ `Nullable<T>` **`null`**, —Ç–æ `boxing` –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è ‚Äì `object` –ø—Ä–æ—Å—Ç–æ –æ—Ç—Ä–∏–º—É—î `null`.

–Ø–∫—â–æ —Ö–æ—á–µ—à —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏ —â–µ –≥–ª–∏–±—à—ñ –∞—Å–ø–µ–∫—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î –Ω–∞ —Ä—ñ–≤–Ω—ñ **IL-–∫–æ–¥—É**, –¥–∞–π –∑–Ω–∞—Ç–∏! üöÄ
